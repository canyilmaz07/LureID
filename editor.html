<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
            font-size: 12px;
        }

        :root {
            --bg-primary: #1e1e1e;
            --bg-secondary: #252526;
            --bg-tertiary: #333333;
            --border-color: #454545;
            --text-primary: #d4d4d4;
            --text-secondary: #858585;
            --accent-blue: #007acc;
            --accent-green: #4ec9b0;
            --status-bar-bg: #007acc;
        }

        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden;
        }

        /* Top Menu Bar */
        .menu-bar {
            background-color: var(--bg-secondary);
            padding: 2px 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .menu-bar ul {
            list-style: none;
            display: flex;
            gap: 15px;
        }

        .menu-bar li {
            cursor: pointer;
            padding: 4px 8px;
        }

        .menu-bar li:hover {
            background-color: var(--bg-tertiary);
        }

        /* Main Container */
        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Activity Bar */
        .activity-bar {
            width: 48px;
            background-color: var(--bg-secondary);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 10px;
            border-right: 1px solid var(--border-color);
        }

        .activity-bar i {
            font-size: 20px;
            padding: 10px;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .activity-bar i:hover {
            color: var(--text-primary);
        }

        .activity-bar i.active {
            color: var(--text-primary);
            border-left: 2px solid var(--accent-blue);
        }

        /* Sidebar */
        .sidebar {
            width: 300px;
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 10px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-actions {
            display: flex;
            gap: 8px;
        }

        .sidebar-actions i {
            cursor: pointer;
            padding: 4px;
        }

        .sidebar-actions i:hover {
            background-color: var(--bg-tertiary);
            border-radius: 3px;
        }

        .file-explorer {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        /* File Tree Structure */
        .tree-item {
            padding: 4px 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            border-radius: 3px;
        }

        .tree-item:hover {
            background-color: var(--bg-tertiary);
        }

        .tree-item i {
            margin-right: 8px;
            width: 16px;
            text-align: center;
        }

        .tree-item.file i.fa-file {
            color: var(--text-secondary);
        }

        .tree-item.folder i.fa-folder,
        .tree-item.folder i.fa-folder-open {
            color: var(--accent-blue);
        }

        .tree-content {
            padding-left: 20px;
            display: none;
            border-left: 1px solid var(--border-color);
            margin-left: 8px;
        }

        .tree-item.open>.tree-content {
            display: block;
        }

        /* Main Editor Area */
        .editor-container {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .tabs-bar {
            background-color: var(--bg-secondary);
            display: flex;
            border-bottom: 1px solid var(--border-color);
        }

        .tab {
            padding: 8px 20px;
            background-color: var(--bg-tertiary);
            border-right: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .tab.active {
            background-color: var(--bg-primary);
        }

        .tab i.fa-times {
            opacity: 0;
        }

        .tab:hover i.fa-times {
            opacity: 1;
        }

        .editor {
            flex: 1;
            background-color: var(--bg-primary);
            padding: 10px;
            display: flex;
        }

        .line-numbers {
            padding-right: 10px;
            text-align: right;
            color: var(--text-secondary);
            user-select: none;
            border-right: 1px solid var(--border-color);
        }

        .code-area {
            flex: 1;
            padding-left: 10px;
            color: var(--text-primary);
            font-family: 'Consolas', monospace;
            white-space: pre;
            outline: none;
        }

        /* Bottom Panels */
        .bottom-panel {
            height: 200px;
            background-color: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
        }

        .panel-tabs {
            display: flex;
            background-color: var(--bg-tertiary);
            padding: 5px 10px;
        }

        .panel-tab {
            padding: 5px 10px;
            cursor: pointer;
        }

        .panel-tab.active {
            background-color: var(--bg-secondary);
            border-top: 2px solid var(--accent-blue);
        }

        .panel-content {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
        }

        /* Status Bar */
        .status-bar {
            height: 22px;
            background-color: var(--status-bar-bg);
            display: flex;
            justify-content: space-between;
            padding: 0 10px;
            align-items: center;
            font-size: 11px;
        }

        .status-bar-left,
        .status-bar-right {
            display: flex;
            gap: 15px;
        }

        /* Context Menu */
        .context-menu {
            position: fixed;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 3px;
            padding: 5px 0;
            z-index: 1000;
        }

        .context-menu-item {
            padding: 5px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .context-menu-item:hover {
            background-color: var(--bg-tertiary);
        }

        .context-menu-separator {
            height: 1px;
            background-color: var(--border-color);
            margin: 5px 0;
        }

        /* Search Panel */
        .search-panel {
            padding: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .search-input {
            width: 100%;
            padding: 5px;
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            outline: none;
        }

        /* Minimap */
        .minimap {
            width: 60px;
            background-color: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
        }

        /* Breadcrumbs */
        .breadcrumbs {
            padding: 5px 10px;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            gap: 5px;
            align-items: center;
        }

        .breadcrumb-item {
            cursor: pointer;
        }

        .breadcrumb-separator {
            color: var(--text-secondary);
        }

        /* Rename Input */
        .rename-input {
            background-color: var(--bg-tertiary);
            border: 1px solid var(--accent-blue);
            color: var(--text-primary);
            outline: none;
            padding: 2px 5px;
            width: calc(100% - 25px);
        }
    </style>
</head>

<body>
    <!-- Menu Bar -->
    <div class="menu-bar">
        <ul>
            <li>File</li>
            <li>Edit</li>
            <li>View</li>
            <li>Navigate</li>
            <li>Code</li>
            <li>Refactor</li>
            <li>Run</li>
            <li>Tools</li>
            <li>Window</li>
            <li>Help</li>
        </ul>
    </div>

    <div class="main-container">
        <!-- Activity Bar -->
        <div class="activity-bar">
            <i class="fas fa-folder active" title="Explorer"></i>
            <i class="fas fa-search" title="Search"></i>
            <i class="fas fa-code-branch" title="Source Control"></i>
            <i class="fas fa-bug" title="Debug"></i>
            <i class="fas fa-puzzle-piece" title="Extensions"></i>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                EXPLORER
                <div class="sidebar-actions">
                    <i class="fas fa-plus" title="New File"></i>
                    <i class="fas fa-sync" title="Refresh"></i>
                    <i class="fas fa-ellipsis-h" title="More Actions"></i>
                </div>
            </div>
            <div class="search-panel">
                <input type="text" class="search-input" placeholder="Search files...">
            </div>
            <div class="file-explorer" id="fileExplorer">
                <!-- File Tree Structure -->
            </div>
        </div>

        <!-- Editor Container -->
        <div class="editor-container">
            <div class="breadcrumbs">
                <span class="breadcrumb-item">src</span>
                <span class="breadcrumb-separator">/</span>
                <span class="breadcrumb-item">components</span>
                <span class="breadcrumb-separator">/</span>
                <span class="breadcrumb-item">App.js</span>
            </div>
            <div class="tabs-bar">
                <div class="tab active">
                    <i class="fab fa-js"></i>
                    App.js
                    <i class="fas fa-times"></i>
                </div>
                <div class="tab">
                    <i class="fab fa-css3"></i>
                    styles.css
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <div class="editor">
                <div class="line-numbers" id="lineNumbers"></div>
                <div class="code-area" contenteditable="true" id="codeArea"></div>
                <div class="minimap"></div>
            </div>
            <div class="bottom-panel">
                <div class="panel-tabs">
                    <div class="panel-tab active">Problems</div>
                    <div class="panel-tab">Output</div>
                    <div class="panel-tab">Debug Console</div>
                    <div class="panel-tab">Terminal</div>
                </div>
                <div class="panel-content">
                    No problems have been detected in the workspace.
                </div>
            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-bar-left">
            <span><i class="fas fa-check-circle"></i> Ready</span>
            <span><i class="fas fa-code-branch"></i> main</span>
            <span><i class="fas fa-sync"></i> 0 ↓ 0 ↑</span>
        </div>
        <div class="status-bar-right">
            <span>UTF-8</span>
            <span>JavaScript</span>
            <span>Ln 1, Col 1</span>
            <span>Spaces: 4</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            let contextMenu = null;
            let selectedElement = null;

            // Initial file structure
            const fileExplorer = document.getElementById('fileExplorer');
            const initialStructure = [
                {
                    name: 'src',
                    type: 'folder',
                    children: [
                        {
                            name: 'components',
                            type: 'folder',
                            children: [
                                { name: 'App.js', type: 'file', icon: 'fab fa-js' },
                                { name: 'Header.js', type: 'file', icon: 'fab fa-js' },
                                { name: 'Footer.js', type: 'file', icon: 'fab fa-js' }
                            ]
                        },
                        {
                            name: 'styles',
                            type: 'folder',
                            children: [
                                { name: 'main.css', type: 'file', icon: 'fab fa-css3' },
                                { name: 'variables.scss', type: 'file', icon: 'fab fa-sass' }
                            ]
                        },
                        { name: 'index.html', type: 'file', icon: 'fab fa-html5' }
                    ]
                },
                {
                    name: 'public',
                    type: 'folder',
                    children: [
                        { name: 'index.html', type: 'file', icon: 'fab fa-html5' },
                        { name: 'favicon.ico', type: 'file', icon: 'far fa-image' }
                    ]
                },
                {
                    name: 'node_modules',
                    type: 'folder',
                    children: []
                },
                { name: 'package.json', type: 'file', icon: 'fab fa-npm' },
                { name: 'README.md', type: 'file', icon: 'fab fa-markdown' }
            ];

            function createTreeItem(item) {
                const treeItem = document.createElement('div');
                treeItem.className = `tree-item ${item.type}`;

                const iconContainer = document.createElement('span');
                iconContainer.className = 'icon-container';

                const icon = document.createElement('i');
                if (item.type === 'folder') {
                    icon.className = 'fas fa-folder';
                } else {
                    icon.className = item.icon || 'fas fa-file';
                }

                const name = document.createElement('span');
                name.className = 'item-name';
                name.textContent = item.name;

                iconContainer.appendChild(icon);
                treeItem.appendChild(iconContainer);
                treeItem.appendChild(name);

                if (item.type === 'folder') {
                    const treeContent = document.createElement('div');
                    treeContent.className = 'tree-content';

                    if (item.children) {
                        item.children.forEach(child => {
                            treeContent.appendChild(createTreeItem(child));
                        });
                    }

                    treeItem.appendChild(treeContent);

                    // Add folder click handler
                    treeItem.addEventListener('click', function (e) {
                        if (e.target === this || e.target === name || e.target === icon) {
                            this.classList.toggle('open');
                            const folderIcon = this.querySelector('i');
                            folderIcon.classList.toggle('fa-folder');
                            folderIcon.classList.toggle('fa-folder-open');
                            const content = this.querySelector('.tree-content');
                            content.style.display = content.style.display === 'block' ? 'none' : 'block';
                            e.stopPropagation();
                        }
                    });
                }

                return treeItem;
            }

            // Initialize file explorer
            initialStructure.forEach(item => {
                fileExplorer.appendChild(createTreeItem(item));
            });

            // Line numbers for code editor
            const lineNumbers = document.getElementById('lineNumbers');
            const codeArea = document.getElementById('codeArea');

            function updateLineNumbers() {
                const lines = codeArea.innerText.split('\n');
                lineNumbers.innerHTML = lines.map((_, i) => i + 1).join('\n');
            }

            codeArea.addEventListener('input', updateLineNumbers);
            updateLineNumbers();

            // Folder toggle functionality
            document.querySelectorAll('.tree-item.folder').forEach(folder => {
                folder.addEventListener('click', function (e) {
                    if (e.target === this || e.target === this.querySelector('span')) {
                        this.classList.toggle('open');
                        const folderIcon = this.querySelector('i');
                        folderIcon.classList.toggle('fa-folder');
                        folderIcon.classList.toggle('fa-folder-open');
                        e.stopPropagation();
                    }
                });
            });

            // Context menu creation
            function createContextMenu(x, y, type) {
                removeContextMenu();

                contextMenu = document.createElement('div');
                contextMenu.className = 'context-menu';
                contextMenu.style.left = `${x}px`;
                contextMenu.style.top = `${y}px`;

                const menuItems = [
                    { text: 'New File', icon: 'fas fa-file', action: createNewFile },
                    { text: 'New Folder', icon: 'fas fa-folder', action: createNewFolder },
                    { text: 'Copy', icon: 'fas fa-copy', action: copyItem },
                    { text: 'Cut', icon: 'fas fa-cut', action: cutItem },
                    { separator: true },
                    { text: 'Rename', icon: 'fas fa-pencil-alt', action: renameItem },
                    { text: 'Delete', icon: 'fas fa-trash', action: deleteItem }
                ];

                menuItems.forEach(item => {
                    if (item.separator) {
                        const separator = document.createElement('div');
                        separator.className = 'context-menu-separator';
                        contextMenu.appendChild(separator);
                        return;
                    }

                    const menuItem = document.createElement('div');
                    menuItem.className = 'context-menu-item';

                    const icon = document.createElement('i');
                    icon.className = item.icon;

                    const text = document.createElement('span');
                    text.textContent = item.text;

                    menuItem.appendChild(icon);
                    menuItem.appendChild(text);

                    menuItem.onclick = () => {
                        item.action();
                        removeContextMenu();
                    };

                    contextMenu.appendChild(menuItem);
                });

                document.body.appendChild(contextMenu);
            }

            // Context menu removal
            function removeContextMenu() {
                if (contextMenu) {
                    contextMenu.remove();
                    contextMenu = null;
                }
            }

            // Right-click handler
            document.addEventListener('contextmenu', function (e) {
                const target = e.target.closest('.tree-item') || e.target.closest('.file-explorer');
                if (target) {
                    e.preventDefault();
                    selectedElement = target;
                    createContextMenu(e.pageX, e.pageY, target.classList.contains('folder') ? 'folder' : 'file');
                }
            });

            // Click handler to remove context menu
            document.addEventListener('click', removeContextMenu);

            // File operations
            function createNewFile() {
                const file = createTreeItem({
                    name: 'new_file.txt',
                    type: 'file',
                    icon: 'fas fa-file'
                });

                const targetFolder = selectedElement.classList.contains('folder')
                    ? selectedElement.querySelector('.tree-content')
                    : selectedElement;

                targetFolder.appendChild(file);
                renameItem(file.querySelector('span'));
            }

            function createNewFolder() {
                const folder = createTreeItem({
                    name: 'new_folder',
                    type: 'folder',
                    children: []
                });

                const targetFolder = selectedElement.classList.contains('folder')
                    ? selectedElement.querySelector('.tree-content')
                    : selectedElement;

                targetFolder.appendChild(folder);
                renameItem(folder.querySelector('span'));
            }

            function createNewFile(parentFolder) {
                const newFileName = 'new_file.txt';
                const file = {
                    name: newFileName,
                    type: 'file',
                    icon: 'fas fa-file'
                };

                const fileElement = createTreeItem(file);
                const targetFolder = parentFolder.querySelector('.tree-content');
                targetFolder.appendChild(fileElement);

                // Start rename operation immediately
                const nameSpan = fileElement.querySelector('.item-name');
                startRename(nameSpan);
            }

            function createNewFolder(parentFolder) {
                const newFolderName = 'new_folder';
                const folder = {
                    name: newFolderName,
                    type: 'folder',
                    children: []
                };

                const folderElement = createTreeItem(folder);
                const targetFolder = parentFolder.querySelector('.tree-content');
                targetFolder.appendChild(folderElement);

                // Start rename operation immediately
                const nameSpan = folderElement.querySelector('.item-name');
                startRename(nameSpan);
            }

            function startRename(element) {
                const text = element.textContent;
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'rename-input';
                input.value = text;

                element.replaceWith(input);
                input.focus();
                input.select();

                const finishRename = () => {
                    const newName = input.value.trim() || text;
                    const span = document.createElement('span');
                    span.className = 'item-name';
                    span.textContent = newName;
                    input.replaceWith(span);
                };

                input.addEventListener('blur', finishRename);
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        finishRename();
                    } else if (e.key === 'Escape') {
                        input.value = text;
                        finishRename();
                    }
                });
            }

            function renameItem(element) {
                const text = element.textContent;
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'rename-input';
                input.value = text;

                element.replaceWith(input);
                input.focus();
                input.select();

                function handleRename() {
                    const span = document.createElement('span');
                    span.textContent = input.value || text;
                    input.replaceWith(span);
                }

                input.addEventListener('blur', handleRename);
                input.addEventListener('keypress', function (e) {
                    if (e.key === 'Enter') {
                        handleRename();
                    }
                });
            }

            function deleteItem() {
                if (selectedElement) {
                    selectedElement.remove();
                }
            }

            function copyItem() {
                // Implementation for copy functionality
                console.log('Copy item');
            }

            function cutItem() {
                // Implementation for cut functionality
                console.log('Cut item');
            }

            // Tab functionality
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function () {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Search functionality
            const searchInput = document.querySelector('.search-input');
            searchInput.addEventListener('input', function (e) {
                const searchTerm = e.target.value.toLowerCase();
                document.querySelectorAll('.tree-item').forEach(item => {
                    const text = item.querySelector('span').textContent.toLowerCase();
                    item.style.display = text.includes(searchTerm) ? 'flex' : 'none';
                });
            });

            // Initial code content
            codeArea.textContent = `// Welcome to the Code Editor
import React from 'react';

function App() {
    return (
        <div className="App">
            <h1>Hello, World!</h1>
        </div>
    );
}

export default App;`;
            updateLineNumbers();
        });
    </script>
</body>

</html>